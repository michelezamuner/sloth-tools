#!/usr/bin/env node
const Lexer = require('../src/lexer');
const ModuleParser = require('../src/parser/module_parser');
const GroupParser = require('../src/parser/group_parser');
const ExprParser = require('../src/parser/expr_parser');
const RefResolver = require('../src/resolver/ref_resolver');
const Resolver = require('../src/resolver/resolver');
const Checker = require('../src/checker');
const Compiler = require('../src/compiler');
const Linker = require('../src/linker');
const Cli = require('../src/cli');

const cli = new Cli();
cli.pipe(new Lexer());
cli.pipe(new ModuleParser(new GroupParser(new ExprParser())));
cli.pipe(new Resolver(new RefResolver));
cli.pipe(new Checker());
cli.pipe(new Compiler());
cli.pipe(new Linker());

cli.run();
